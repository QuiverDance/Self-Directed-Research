{
  "//": "baseline | kvtuner_only | zipcache_only | hybrid",
  "mode": "baseline", 

  "kvtuner": {
    "quant_scheme": "per-token-asym",
    "asymmetric": true,

    "bit_candidates": [8, 4],

    "granularity": {
        "key":   { "axis": 1, "name": "per-channel", "q_group_size": 32, "residual_length": 32 },
        "value": { "axis": 0, "name": "per-token" }
    },
    
    "candidates_index_map": {
        "0": { "nbits_key": 8, "nbits_value": 8 },
        "1": { "nbits_key": 8, "nbits_value": 4 },
        "2": { "nbits_key": 4, "nbits_value": 4 }
    },

    "groups": {
        "//": "Each inner list is a layer group; numbers are transformer block indices.",
        "per-token-asym": [
        [0],
        [1, 2],
        [3, 4, 23, 31],
        [5, 6],
        [7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 24, 25, 26, 27, 28, 29, 30]
        ]
    },

    "group_choice": {
        "//": "Chosen candidate index for each group in the *same order* as groups[quant_scheme].",
        "//2": "Example below corresponds to trial #4: [2,2,0,2,1]  ->  (4,4),(4,4),(8,8),(4,4),(8,4)",
        "per-token-asym": [1, 1, 2, 2, 0]
    },

    "max_per_layer_scale": 2.0
  },

  "zipcache": {
    "streaming_gap": 100,
    "prefill_keep_ratio": 0.4,
    "k_unimportant_ratio": 0.5,
    "v_unimportant_ratio": 0.5,
    "probe_ratio_recent": 0.05,
    "probe_ratio_random": 0.05,
    "bits_high_k": 4,
    "bits_low_k": 2,
    "bits_high_v": 4,
    "bits_low_v": 2
  }
}